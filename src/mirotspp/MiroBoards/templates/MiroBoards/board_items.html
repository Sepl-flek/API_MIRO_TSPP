{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Items –Ω–∞ –¥–æ—Å–∫–µ: {{ board.name }}</title>
    <link rel="stylesheet" href="{% static 'MiroBoards/css/board_items.css' %}">
</head>
<body>
    <a href="{% url 'my_boards' %}" class="back-button">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ—Å–∫–∞–º</a>

    <h1>Items –Ω–∞ –¥–æ—Å–∫–µ: {{ board.name }}</h1>

    <div class="buttons">
        <button id="add-text">–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç</button>
        <button id="add-image">–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
        <button id="add-sticker">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–∫–µ—Ä</button>
        <button onclick="fetchItems()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
    </div>

    <table>
        <thead>
            <tr>
                <th>Item ID</th>
                <th>X</th>
                <th>Y</th>
                <th>–¢–∏–ø</th>
                <th>–ö–æ–Ω—Ç–µ–Ω—Ç (JSON)</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody id="itemsTableBody">
            <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ items –∏–∑ API -->
        </tbody>
    </table>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="itemModal">
        <h3 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç</h3>
        <form id="itemForm">
            <input type="hidden" id="itemType">
            <label>X: <input type="number" id="x" required></label><br>
            <label>Y: <input type="number" id="y" required></label><br>
            <label>–ö–æ–Ω—Ç–µ–Ω—Ç (JSON):<br>
                <textarea id="contentJson" placeholder='{"content": "text", "shape": "square"}' required></textarea>
            </label><br>
            <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
            <button type="button" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        </form>
    </div>

    <script>
        const boardId = "{{ board.id }}";
        const csrfToken = '{{ csrf_token }}';
    </script>
    <script src="{% static 'MiroBoards/js/board_items.js' %}"></script>
</body>
</html>
